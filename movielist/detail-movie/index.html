<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>List Film - MovLeebs</title>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <link rel="shortcut icon" href="../../img/icon.svg" type="image/x-icon" />
    <link href="../../css/app.css" rel="stylesheet" />
    <script src="../../api.js"></script>
    <script src="../../alpineApp.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/js/all.min.js"
      integrity="sha512-6BTOlkauINO65nLhXhthZMtepgJSghyimIalb+crKRPhvhmsCdnIuGcVbR5/aQY2A+260iC1OPy1oCdB6pSSwQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
  </head>
  <body
    x-data="movieApp"
    class="bg-background flex flex-col justify-center items-center"
  >
    <header
      x-data="{mobileMenuOpen: false}"
      class="w-full bg-secondary h-[70px] lg:px-10 px-5 flex items-center justify-between sticky top-0 z-20"
    >
      <div class="flex gap-3">
        <img src="../../img/icon.svg" class="w-[30px]" alt="icon" />
        <h1 class="poppins-bold text-primary text-2xl">
          Mov<span class="text-white">Leebs</span>
        </h1>
      </div>
      <nav class="poppins-regular lg:flex hidden text-white gap-10">
        <a class="hover:underline" href="../">Home</a>
        <a class="hover:underline" href="../../movielist/">List Film</a>
        <a
          class="hover:underline"
          href="https://github.com/Mazees/movleebs.git"
          target="_blank"
          >Source</a
        >
      </nav>
      <button class="ml-auto lg:hidden" @click="mobileMenuOpen=!mobileMenuOpen">
        <svg
          class="text-white"
          width="40px"
          height="40px"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4ZM7 12C7 11.4477 7.44772 11 8 11H20C20.5523 11 21 11.4477 21 12C21 12.5523 20.5523 13 20 13H8C7.44772 13 7 12.5523 7 12ZM13 18C13 17.4477 13.4477 17 14 17H20C20.5523 17 21 17.4477 21 18C21 18.5523 20.5523 19 20 19H14C13.4477 19 13 18.5523 13 18Z"
            fill="currentColor"
          />
        </svg>
      </button>
      <div
        :class="mobileMenuOpen ? 'translate-x-0' : 'translate-x-full'"
        class="fixed bg-secondary lg:hidden flex flex-col items-center w-screen h-screen top-0 left-0 transition-all duration-500"
      >
        <img
          src="../../img/icon.svg"
          class="h-[100px] w-full object-contain mb-10 mt-30"
        />
        <nav class="items-center justify-center flex flex-col gap-10">
          <ul
            id="beranda"
            class="text-white cursor-pointer transition-all duration-500 relative before:w-full before:h-[3px] before:bg-white before:absolute before:bottom-0 before:max-w-0 before:transition-all before:rounded-2xl hover:before:max-w-full poppins-light text-lg w-fit"
          >
            <a @click="mobileMenuOpen=!mobileMenuOpen" href="../../">Home</a>
          </ul>
          <ul
            class="text-white cursor-pointer transition-all duration-500 relative before:w-full before:h-[3px] before:bg-white before:absolute before:bottom-0 before:max-w-0 before:transition-all before:rounded-2xl hover:before:max-w-full poppins-light text-lg w-fit"
          >
            <a @click="mobileMenuOpen=!mobileMenuOpen" href="../../movielist/"
              >List Film</a
            >
          </ul>
          <ul
            class="text-white cursor-pointer transition-all duration-500 relative before:w-full before:h-[3px] before:bg-white before:absolute before:bottom-0 before:max-w-0 before:transition-all before:rounded-2xl hover:before:max-w-full poppins-light text-lg w-fit"
          >
            <a
              @click="mobileMenuOpen=!mobileMenuOpen"
              href="https://github.com/Mazees/movleebs.git"
              >Source</a
            >
          </ul>
        </nav>
        <a href="" target="_blank">
          <h1
            class="text-primary-dark bg-primary px-4 py-2 mt-10 rounded-lg poppins-regular hover:text-white"
          >
            COBA SEKARANG
          </h1>
        </a>
        <button
          class="fa-solid fa-circle-xmark absolute top-0 left-0 m-5 text-white text-3xl"
          @click="mobileMenuOpen=!mobileMenuOpen"
        >
          <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
          <svg
            width="1em"
            height="1em"
            viewBox="0 0 1024 1024"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill="currentColor"
              d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"
            />
          </svg>
        </button>
      </div>
    </header>
    <main
      class="flex flex-col justify-center items-center"
      x-data="{dataMovie:null, loading:true}"
      x-init="loading=true
      dataMovie=await getDataMovie(localStorage.getItem('idMovie'));
      loading=false
      "
    >
      <section class="h-[calc(100vh-70px)] w-screen relative overflow-hidden">
        <img
          x-show="dataMovie.poster_path !== null"
          class="w-full h-[238px] object-cover blur-lg"
          :src="`https://image.tmdb.org/t/p/original/${dataMovie.backdrop_path}`"
        />
        <template x-if="!loading">
          <div
            class="absolute overflow-y-scroll hide-scrollbar top-0 left-0 w-full lg:px-20 px-10 h-full pt-30 flex flex-col"
          >
            <div
              class="flex lg:flex-row flex-col lg:items-start items-center w-full gap-5 lg:gap-10"
            >
              <template x-if="dataMovie.poster_path === null">
                <div
                  class="rounded-[10px] w-[167px] h-[250px] bg-light flex justify-center items-center animate-pulse"
                >
                  <img src="../../img/icon.svg" alt="icon" class="h-[35px]" />
                </div>
              </template>
              <template x-if="dataMovie.poster_path !== null">
                <img
                  class="w-[167px] h-[250px] rounded-[20px]"
                  :src="`https://image.tmdb.org/t/p/w300/${dataMovie.poster_path}`"
                  alt=""
                />
              </template>
              <div class="flex-1 h-[250px] text-white py-5 flex flex-col">
                <h1
                  class="poppins-extrabold text-2xl lg:text-5xl lg:w-[60%] w-full lg:text-start text-center"
                  x-text="dataMovie.title"
                ></h1>
                <h2
                  class="poppins-medium mt-3 lg:text-start text-center"
                  x-text="`${dataMovie.original_title} â€¢ ${String(Math.floor(dataMovie.runtime/60)).padStart(2,'0')}:${String(dataMovie.runtime%60).padStart(2,'0')}`"
                ></h2>
                <div class="flex flex-col lg:flex-row gap-2 mt-7">
                  <button
                    class="px-4 py-2 bg-primary rounded-sm hover:bg-white hover:text-primary poppins-regular hover:cursor-pointer flex items-center gap-2"
                  >
                    <svg
                      width="1em"
                      height="1em"
                      viewBox="0 0 8 10"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M4.39279e-08 1.11137C-5.21e-05 0.915876 0.0463191 0.72383 0.134432 0.554621C0.222544 0.385411 0.349278 0.24503 0.501837 0.147651C0.654396 0.0502717 0.827378 -0.000657228 1.00332 6.40356e-06C1.17926 0.000670035 1.35192 0.0529028 1.50388 0.151431L7.50192 4.03895C7.65329 4.13655 7.77896 4.27657 7.86636 4.44504C7.95377 4.6135 7.99985 4.80451 8 4.99897C8.00015 5.19342 7.95437 5.38451 7.86723 5.55315C7.78009 5.72178 7.65464 5.86205 7.50342 5.95994L1.50388 9.84857C1.35192 9.9471 1.17926 9.99933 1.00332 9.99999C0.827378 10.0007 0.654396 9.94973 0.501837 9.85235C0.349278 9.75497 0.222544 9.61459 0.134432 9.44538C0.0463191 9.27617 -5.21e-05 9.08412 4.39279e-08 8.88863V1.11137Z"
                        fill="currentColor"
                      />
                    </svg>

                    PLAY TRAILER
                  </button>
                  <button
                    class="px-4 py-2 bg-primary rounded-sm hover:bg-white hover:text-primary poppins-regular hover:cursor-pointer flex items-center gap-2"
                  >
                    <svg
                      width="1em"
                      height="1em"
                      viewBox="0 0 11 14"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M11 14L5.5 10.8889L0 14V1.55556C0 1.143 0.165561 0.747335 0.460261 0.455612C0.754961 0.163888 1.15466 0 1.57143 0H9.42857C9.84534 0 10.245 0.163888 10.5397 0.455612C10.8344 0.747335 11 1.143 11 1.55556V14Z"
                        fill="currentColor"
                      />
                    </svg>
                    ADD TO BOOKMARK
                  </button>
                </div>
                <h2
                  class="poppins-medium mt-2"
                  x-text="`Released on: ${dataMovie.release_date.slice(5,7)}/${dataMovie.release_date.slice(8,10)}/${dataMovie.release_date.slice(0,4)}`"
                ></h2>
              </div>
            </div>
            <p
              class="poppins-regular text-white lg:w-[70vw] lg:mt-5 lg:text-start text-center"
              x-text="dataMovie.overview"
            ></p>
            <div class="flex flex-col lg:flex-row gap-3 lg:gap-10 lg:items-center mt-10">
              <h1 class="text-white poppins-bold">Genre</h1>
              <ul class="flex flex-wrap poppins-bold gap-3">
                <template x-for="genre in dataMovie.genres">
                  <li class="text-black bg-light px-2 py-1 rounded-sm" x-text="genre.name"></li>
                </template>
              </ul>
            </div>
          </div>
        </template>
      </section>
    </main>
    <footer></footer>
  </body>
</html>
